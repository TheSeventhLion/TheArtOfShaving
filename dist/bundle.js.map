{"version":3,"sources":["app.js","controllers/cartCTRL.js","controllers/product-detailsCTRL.js","controllers/productCTRL.js","controllers/razorsCTRL.js","controllers/shavingCTRL.js","directives/footer-dir.js","directives/header-dir.js","services/authSVC.js","services/cartSVC.js","services/productSVC.js","services/razorsSVC.js","services/shavingSVC.js"],"names":["angular","module","config","$stateProvider","$urlRouterProvider","limitUser","authSVC","$state","getCurrentUser","then","response","data","go","catch","err","getUser","otherwise","state","url","templateUrl","controller","cartSVC","$scope","$stateParams","getTotal","total","console","log","orderData","products","length","i","price","qty","getOrder","deleteItem","id","productSVC","getDetails","product","addToCart","kits","razors","brushes","getProducts","type","shavingSVC","directive","restrict","service","$http","logout","method","$rootScope","$emit","editUser","user","product_id"],"mappings":"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","file":"bundle.js","sourcesContent":["angular.module('TAOS', ['ui.router'])\n    .config(function($stateProvider, $urlRouterProvider){\n\n\n  var limitUser = function(authSVC, $state) {\n    return authSVC.getCurrentUser()\n    .then(function(response) {\n      if (!response.data) {\n        $state.go('home');\n      }\n      return response.data;\n    })\n    .catch(function(err) {\n      $state.go('home');\n    });\n  }\n  var getUser = function(authSVC) {\n    return authSVC.getCurrentUser()\n    .then(function(response) {\n      return response.data;\n    })\n  }\n\n\n\n\n\n\n    $urlRouterProvider.otherwise('/');\n\n        $stateProvider\n            .state('home', {\n                url: '/',\n                templateUrl: 'views/home.html',\n                controller: 'productCTRL'\n            })\n            \n            .state('products', {\n                url: '/products/:type',\n                templateUrl: 'views/product-catalog.html',\n                controller: 'productCTRL'\n\n// /:price/:aroma/:brush/:size\n\n            })\n\n            .state('razors', {\n                url: '/razors',\n                templateUrl: 'views/razors/razors.html',\n                controller: 'razorsCTRL'\n            })\n\n            .state('brushes', {\n                url: '/brushes',\n                templateUrl: 'views/brushes/brushes.html',\n                controller: 'brushesCTRL'\n        })\n\n            .state('details', {\n                url: '/details/:id',\n                templateUrl: 'views/product-details.html',\n                controller: 'product-detailsCTRL'\n        })\n\n        .state('cart', {\n            url: '/cart',\n            templateUrl: 'views/cart/cart.html',\n            controller: 'cartCTRL'\n        })\n\n        .state('login', {\n            url: '/login',\n            templateUrl: 'views/login.html'\n            // controller: ''\n        })\n\n\n\n\n\n            \n\n\n\n\n\n\n\n\n\n\n    });\n","angular.module('TAOS').controller('cartCTRL', function( cartSVC, $scope, $stateParams){\n\n    $scope.getTotal = function() {\n        // console.table($scope.orderData)\n        var total = 0;\n        console.log($scope.orderData.products.length);\n        for (var i = 0; i < $scope.orderData.products.length; i++) {\n            total += $scope.orderData.products[i].price * $scope.orderData.products[i].qty;\n        }\n        $scope.total = total;\n        console.log($scope.total)\n    };\n\n    $scope.getOrder = function() {\n        cartSVC.getOrder().then(function(response) {\n            // console.table(response);\n            $scope.orderData = response;\n            console.log('order data', $scope.orderData);\n            $scope.getTotal();\n        });\n    };\n    $scope.getOrder();\n\n    // $scope.updateItem = function(id, qty) {\n    //     // console.table(id, qty);\n    //     orderService.updateItem(id, qty).then(function(response) {\n    //         $scope.getTotal();\n    //     });\n    // };\n\n    $scope.deleteItem = function(id) {\n        cartSVC.deleteItem(id).then(function(response) {\n            console.log(\"response from cartCTRL: \" , response);\n            $scope.getOrder();\n        });\n    };\n\n    // $scope.submit = function() {\n    //     console.log('Submiting order');\n    //     orderService.completeOrder().then(function(response) {\n    //         $scope.getOrder();\n    //     });\n    // };\n\n\n\n\n\n});","angular.module('TAOS').controller('product-detailsCTRL', function( productSVC, $state,$scope, $stateParams){\n\n\n\n\nproductSVC.getDetails($stateParams.id).then(function(response){\n    $scope.product = response.data[0];\n    console.log('product', $scope.product);\n\n});\n\n$scope.addToCart = (id) => {\n    productSVC.addToCart (id).then(function (response){\n        console.log('response ==>' , response);\n        $state.go('cart')\n    });\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n});","angular.module('TAOS')\n    .controller('productCTRL', function(productSVC, $scope , $state, $stateParams){\n\n\n        $scope.kits = false;\n        $scope.razors = false;\n        $scope.brushes = false;\n\n\n// console.log('params', $stateParams);\n\n$scope.getProducts = () => {\n    productSVC.getProducts($stateParams.type).then(function (response){\n        console.log(response);\n        $scope.products = response.data;\n        $scope[$stateParams.type] = true;\n    });\n};\n$scope.getProducts();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n});\n\n\n\n","// angular.module('TAOS')\n//     .controller('razorsCtrl', function(razorsSVC, productSVC, $scope){\n    \n\n\n\n\n\n//     });\n\n","angular.module('TAOS')\n    .controller('shavingCTRL', function(shavingSVC, productSVC, $scope, $stateParams){\n\n//         $scope.kits = false;\n//         $scope.razors = false;\n//         $scope.brushes = false;\n\n// console.log('params', $stateParams);\n\n// $scope.getProducts = () => {\n//     productSVC.getProducts($stateParams.type).then(function (response){\n//         console.log(response);\n//         $scope.products = response.data;\n//         $scope[$stateParams.type] = true;\n//     });\n// };\n// $scope.getProducts();\n\n// cut and put into productsCTRL.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n    });","angular.module('TAOS')\n    .directive('footerDir', function(){\n\n\nreturn {\n    restrict: \"AE\",\n    templateUrl: \"../views/footerDir.html\"\n\n\n    };\n\n\n\n\n\n\n\n\n\n});","angular.module('TAOS')\n    .directive('headerDir', function(){\n\n\nreturn {\n    restrict: \"AE\",\n    templateUrl: \"../views/headerDir.html\"\n\n\n\n\n\n    };\n\n\n\n\n\n\n\n\n});","angular.module('TAOS')\n    .service('authSVC', function($http){\n        \n\n\n  this.logout = function() {\n    return $http ({\n      method: 'GET',\n      url: '/api/logout'\n    })\n    .then(function(response) {\n      $rootScope.$emit('user', null);\n      return response\n    })\n  }\n  this.getCurrentUser = function() {\n    return $http ({\n      method: 'GET',\n      url: '/api/me'\n    })\n    .then(function(response) {\n      $rootScope.$emit('user', response.data);\n      return response\n    })\n  }\n  this.editUser = function(user) {\n    return $http ({\n      method: 'PUT',\n      url: '/api/user/current',\n      data: user\n    })\n    .then(function(response) {\n      return response\n    })\n  }\n});","angular.module('TAOS')\n    .service('cartSVC', function($http){\n        \n\n\n  this.deleteItem = function(id) {\n    console.log(\"Just hit cartSVC\");\n        return $http({\n        method: 'DELETE',\n        url: '/api/order/delete/' + id\n        });\n    };\n\n    this.getOrder = function() {\n    return $http({\n      method: 'GET',\n      url: '/api/order'\n    }).then(function(response) {\n      console.log('Get Order: ', response);\n      return response.data\n    });\n  };\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n});","angular.module('TAOS')\n    .service('productSVC', function($http){\n        \n\n\n\n\n// -------------------------SERVICE FUNCTIONS------------------------------------------------------\n                                    // I dont think this does anything\n// this.get_all_products = () => {\n//     return products;\n\n//     //this is where the http req's will go\n// };\n\n\nthis.getProducts = (type) => {\n\n    return $http({\n        method : 'GET',\n        url : `/api/products/${type}` \n    }).then( function (response){\n            return response; \n    });\n};\n\n// ------------------------------------------------------------------------------------------------\n\nthis.getDetails = (id) => {\n    console.log('GetDetails', id);\n    return $http({\n        method: 'GET',\n        url: `/api/product/${id}`\n    }).then(function (response){\n        return response; \n    });\n};\n\nthis.addToCart = (id) => {\n    console.log('id', id);\n    // console.log('qty', qty);\n    return $http({\n      method: 'POST',\n      url: '/api/order/add',\n      data: {\n        product_id: id,\n      }\n    }).then(function (response){\n        return response; \n    });\n  };\n\n    });","","angular.module('TAOS')\n    .service('shavingSVC', function($http){\n        \n\n//I dont understand how this works\n// this.getProducts = function(type){\n//     console.log(type);\n    \n\n\n    // return $http.get('/api/store/' + type)\n    //     .then(function( response ) {\n    //         return response;\n    //     });\n// };\n// console.log(response);\n\n\n\n\n\n\n\n\n\n\n\n});"]}